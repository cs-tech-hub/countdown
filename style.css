:root {
  --panel: #12141c;
  --panel-alt: #0d1016;
  --text: #e8ecf2;
  --font-stack: system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  --radius: 1.15rem;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: var(--font-stack);
  background: #0d1016;
  color: var(--text);
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1.6rem;
  transition: background 1s cubic-bezier(.55,.2,.3,1);
  background-attachment: fixed;
  overflow-x: hidden;
}

body.dynamic-bg { background-size: 180% 180%; }

.container {
  width: 100%;
  max-width: 560px;
  background: linear-gradient(150deg,var(--panel),var(--panel-alt));
  padding: 2.8rem 2.5rem 3.25rem;
  border-radius: var(--radius);
  box-shadow:
    0 4px 18px -2px rgba(0,0,0,0.55),
    0 16px 58px -14px rgba(0,0,0,0.7),
    0 0 0 1px rgba(255,255,255,0.04);
  position: relative;
}

h1 {
  margin: 0 0 0.35rem;
  font-size: clamp(2rem, 3.2vw + 1rem, 2.95rem);
  letter-spacing: -0.02em;
  font-weight: 700;
  background: linear-gradient(110deg,#ffffff,#dbe6ff 60%,#c3d6ff);
  -webkit-background-clip: text;
  color: transparent;
}

.tagline {
  margin: 0 0 1.85rem;
  opacity: .72;
  font-size: 0.95rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-weight: 500;
}

.countdown-wrapper {
  display: flex;
  justify-content: center;
  margin: 0.75rem 0 1.4rem;
  transition: opacity .4s ease, transform .4s ease;
}

.countdown-wrapper.hidden {
  opacity: 0;
  transform: translateY(14px) scale(.9);
  pointer-events: none;
}

.count {
  font-size: clamp(4.4rem, 10vw + 1rem, 7.2rem);
  font-weight: 700;
  line-height: 1;
  font-variant-numeric: tabular-nums;
  letter-spacing: -0.045em;
  min-width: 4ch;
  text-align: center;
  filter: drop-shadow(0 8px 28px rgba(0,0,0,0.55));
  transition: background .55s ease, transform .6s ease;
}

.count.tick-animate { animation: pulse 0.62s cubic-bezier(.6,.2,.3,1); }

@keyframes pulse {
  0% { transform: scale(1); }
  45% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

.start-btn {
  --btn-bg: linear-gradient(135deg,#6b25ff,#d400ff 50%,#ff006e);
  cursor: pointer;
  border: none;
  width: 100%;
  padding: 1rem 1.15rem;
  font-size: 1.05rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  color: #fff;
  background: var(--btn-bg);
  border-radius: 0.95rem;
  box-shadow:
    0 6px 22px -6px rgba(180,0,255,0.55),
    0 0 0 1px rgba(255,255,255,0.07),
    inset 0 0 0 1px rgba(255,255,255,0.06);
  transition: transform .28s cubic-bezier(.5,.2,.2,1), box-shadow .35s;
  position: relative;
  overflow: hidden;
}

.start-btn:before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 30% 25%,rgba(255,255,255,0.5),transparent 60%);
  mix-blend-mode: overlay;
  pointer-events: none;
}

.start-btn:hover:not(:disabled) {
  transform: translateY(-3px);
  box-shadow:
    0 14px 38px -14px rgba(215,0,255,0.75),
    0 0 0 1px rgba(255,255,255,0.12),
    inset 0 0 0 1px rgba(255,255,255,0.08);
}

.start-btn:active:not(:disabled) { transform: translateY(1px); }
.start-btn:disabled { cursor: not-allowed; opacity: .55; }

.status {
  min-height: 1.2em;
  margin: 0 0 1.3rem;
  text-align: center;
  font-size: 0.95rem;
  letter-spacing: 0.45px;
  color: #c0d5ff;
  text-shadow: 0 2px 6px rgba(0,0,0,0.45);
}

.noscript {
  margin-top: 1.5rem;
  font-size: 0.85rem;
  background: #1d2330;
  padding: 0.75rem .9rem;
  border-radius: 0.6rem;
  line-height: 1.4;
  border: 1px solid #2a3242;
}

/* Modal */
.modal {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  padding: 1.5rem;
  background: transparent;
  opacity: 0;
  visibility: hidden;
  transition: opacity .55s ease;
  z-index: 260;
  pointer-events: none;
}

.modal.show {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
}

.modal-backdrop {
  position: absolute;
  inset: 0;
  cursor: pointer;
  background: transparent;
}

@keyframes dialogIn {
  0% { transform: scale(.7) translateY(20px); opacity: 0; }
  55% { transform: scale(1.04) translateY(0); opacity: 1; }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

.modal-dialog {
  position: relative;
  background: linear-gradient(155deg,#141a23f2,#0e1319f2);
  border-radius: 1.3rem;
  padding: 2.4rem 2.3rem 2.55rem;
  width: min(100%, 540px);
  box-shadow:
    0 10px 40px -6px rgba(0,0,0,0.65),
    0 0 0 1px rgba(255,255,255,0.07),
    0 0 42px -6px rgba(255,80,220,0.40),
    0 0 34px -4px rgba(0,180,255,0.35);
  border: 1px solid rgba(160,180,210,0.18);
  animation: dialogIn .7s cubic-bezier(.55,.2,.3,1);
}

.modal-title {
  margin: 0 0 0.55rem;
  font-size: clamp(2rem, 2.6vw + 1rem, 2.6rem);
  letter-spacing: -0.02em;
  font-weight: 700;
  background: linear-gradient(100deg,#ffffff,#e4f0ff 60%,#d1e3ff);
  -webkit-background-clip: text;
  color: transparent;
  text-shadow: 0 4px 22px rgba(0,0,0,0.55);
}

.modal-subtitle {
  margin: 0 0 1.35rem;
  font-size: 1.15rem;
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: #dbe6f9;
  font-weight: 500;
  opacity: 0.92;
}

.small-note {
  font-size: 0.72rem;
  opacity: 0.8;
  margin: 1.05rem 0 0;
  letter-spacing: 0.05em;
  text-align: center;
}

.alt-link { color: #a4c9ff; }

.modal-close {
  position: absolute;
  top: 0.65rem;
  right: 0.7rem;
  width: 2.2rem;
  height: 2.2rem;
  border-radius: 50%;
  border: 1px solid #2f3946;
  background: #17202a;
  color: #f1f5f9;
  font-size: 1.25rem;
  line-height: 1;
  cursor: pointer;
  display: grid;
  place-items: center;
  transition: background .28s, transform .28s;
  box-shadow: 0 4px 12px -4px rgba(0,0,0,0.5);
  z-index: 2;
}

.modal-close:hover { background: #223041; transform: rotate(6deg); }

.redirect-progress {
  position: relative;
  background: #1e2631;
  height: 10px;
  border-radius: 14px;
  overflow: hidden;
  margin-top: 0.2rem;
  box-shadow: inset 0 0 0 1px #2d3643, 0 3px 10px -3px #000;
}

.redirect-progress .bar {
  --dur: 3000ms;
  display: block;
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg,
    #ff005d,#ff8a00,#ffdd00,#27ff66,#00e8ff,#007bff,#8a2fff,#ff00c8,#ff005d);
  animation: fill var(--dur) linear forwards, shift 8s linear infinite;
  background-size: 400% 100%;
  filter: brightness(1.2);
}

@keyframes fill { to { width: 100%; } }
@keyframes shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Celebration canvases */
.confetti-canvas,
.fireworks-canvas {
  position: fixed;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0;
  transition: opacity 1s ease;
  z-index: 120;
}

.confetti-canvas.active,
.fireworks-canvas.active { opacity: 1; }

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  body { transition: none !important; }
  .count,
  .modal,
  .start-btn,
  .modal-dialog,
  .redirect-progress .bar {
    transition: none !important;
    animation: none !important;
  }
  .redirect-progress .bar { width: 100%; }
}